<!--
/**
 * moOde audio player (C) 2014 Tim Curtis
 * http://moodeaudio.org
 *
 * This Program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 3, or (at your option)
 * any later version.
 *
 * This Program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 */
-->
<div id="container">
<div class="container">
	<h1 class="ren-config">Bluetooth Control</h1>

    <form class="form-horizontal" action="" method="post">
    	<legend>Devices</legend>
		<div class="control-group">
			<select id="btcmd" class="config-select-large" name="btcmd">
				$_cmd[btcmd]
			</select>
			<button class="btn btn-primary btn-small config-btn-set btn-submit" type="submit" name="run_btcmd" value="1" $_bt_disabled>Submit</button>
			<a aria-label="Help" class="config-info-toggle" data-cmd="info-btcmd" href="#notarget"><i class="fa-solid fa-sharp fa-info-circle"></i></a>
			<span id="info-btcmd" class="config-help-info">
				Select a command to submit to the Bluetooth controller.
	        </span>
			<div id="blu-config-cmd-output">
				$_cmd_output
			</div>

			<div class="$_hide_ctl[paired_device]">
				<select id="paired-device" class="config-select-large" name="paired_device">
					$_device[paired_device]
				</select>
				<button class="btn btn-primary btn-small config-btn-set btn-submit" type="submit" name="connectto_device" value="1">Connect</button>
				<button class="btn btn-primary btn-small config-btn-set btn-submit" type="submit" name="rm_paired_device" value="1">Remove</button>
				<span class="config-help-static">
					Connect or remove a paired device. This also changes to the selected audio output.
	            </span>
			</div>

			<div class="$_hide_ctl[connected_device]">
				<select id="connected-device" class="config-select-large" name="connected_device">
					$_device[connected_device]
				</select>
				<button class="btn btn-primary btn-small config-btn-set btn-submit" type="submit" name="disconnect_device" value="1">Disconnect</button>
				<span class="config-help-static">
					Disconnect the currently connected device. This also changes to the selected audio output.
	            </span>
			</div>

			<div class="$_hide_ctl[scanned_device]">
				<select id="scanned-device" class="config-select-large" name="scanned_device">
					$_device[scanned_device]
				</select>
				<button class="btn btn-primary btn-small config-btn-set btn-submit" type="submit" name="pairwith_device" value="1">Pair</button>
				<span class="config-help-static">
					Select a device to pair with.
	            </span>
			</div>

			<legend>Audio routing</legend>
			<select id="audioout" class="config-select-large" name="audioout">
				$_select[audioout]
			</select>
			<button class="btn btn-primary btn-small config-btn-set btn-submit" type="submit" name="chg_audioout" value="1">Set</button>
			<span class="config-help-static">
				<b>Local audio: </b>Route connected client output to the Local audio device.<br>
				<b>Bluetooth speaker: </b>Route MPD output to a remote Bluetooth speaker.
				$_audioout_msg
            </span>

			<legend>Latency and bandwidth</legend>
			<select id="pcm-buffer" class="config-select-large" name="pcm_buffer">
				$_select[pcm_buffer]
			</select>
			<button class="btn btn-primary btn-small config-btn-set btn-submit" type="submit" name="update_pcm_buffer" value="1">Set</button>
			<span class="config-help-static">
				I-O buffer length in milliseconds. Lower values reduce latency but may cause dropouts.
	        </span>

			<select id="sbc-quality" class="config-select-large" name="sbc_quality">
				$_select[sbc_quality]
			</select>
			<button class="btn btn-primary btn-small config-btn-set btn-submit" type="submit" name="update_sbc_quality" value="1">Set</button>
			<span class="config-help-static">
				SBC encoder mode. Lower quality settings consume less bandwith but may reduce audio quality.<br>
				<!--b>Low:</b> Mono 114 kbps, Stereo 213 kbps<br>
				<b>Medium:</b> Mono 132 kbps, Stereo 237 kbps<br>
				<b>High:</b> Mono 198 kbps, Stereo 345 kbps<br>
				<b>XQ:</b> SBC Dual Channel HD 452 kbps<br>
				<b>XQ+:</b> SBC Dual Channel HD 551 kbps-->
	        </span>

			<legend>ALSA output mode</legend>
			<select id="bt-alsa-output-mode" class="config-select-large" name="bt_alsa_output_mode">
				$_select[bt_alsa_output_mode]
			</select>
			<button class="btn btn-primary btn-small config-btn-set btn-submit" type="submit" name="update_bt_alsa_output_mode" value="1">Set</button>
			<span class="config-help-static">
				<b>Default: </b>Use the "Output mode" setting from Audio Config. This enables DSP to be used.<br>
				<b>Compatibility: </b>This mode provides improved device compatibility but does not support DSP.
            </span>
		</div>
	</form>
</div>
</div>
